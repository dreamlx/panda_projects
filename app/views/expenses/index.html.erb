<h1><%= "Listing Expense" %></h1>
<div>
  <%= link_to 'New expense', new_expense_path %>
</div>
<%= render 'search' %>

<%= paginate @expenses %>
<table class="table table-striped">
  <thead>
    <tr>
      <th><%= sort_link(@q, :project_job_code) %></th>
      <th><%= sort_link(@q, :period_number) %></th>
      <th><%= sort_link(@q, :commission) %></th>
      <th><%= sort_link(@q, :outsourcing) %></th>
      <th><%= sort_link(@q, :tickets) %></th>
      <th><%= sort_link(@q, :courrier) %></th>
      <th><%= sort_link(@q, :postage) %></th>
      <th><%= sort_link(@q, :stationery) %></th>
      <th><%= sort_link(@q, :report_binding) %></th>
      <th><%= sort_link(@q, :cash_advance) %></th>
      <th><%= sort_link(@q, :payment_on_be_half) %></th>
      <th><%= sort_link(@q, :created_on) %></th>
      <th><%= sort_link(@q, :updated_on) %></th>
      <th><%= sort_link(@q, :memo) %></th>
      <th colspan="2">Operation</th>
    </tr>
  </thead>
  <tbody>
    <%= render @expenses %>
    <tr>
      <td>sum:</td>
      <td><%= @expenses_total.sum(:commission) %></td>
      <td><%= @expenses_total.sum(:outsourcing) %></td>
      <td><%= @expenses_total.sum(:tickets) %></td>
      <td><%= @expenses_total.sum(:courrier) %></td>
      <td><%= @expenses_total.sum(:postage) %></td>
      <td><%= @expenses_total.sum(:stationery) %></td>
      <td><%= @expenses_total.sum(:report_binding) %></td>
      <td><%= @expenses_total.sum(:cash_advance) %></td>
      <td><%= @expenses_total.sum(:payment_on_be_half) %></td>
      <td></td>
      <td colspan="2"></td>
    </tr>
  </tbody>
</table>
<%= paginate @expenses %>